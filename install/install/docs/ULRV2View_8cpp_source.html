<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SIBR: src/projects/ulr/renderer/ULRV2View.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SIBR
   &#160;<span id="projectnumber">0.9.3-50-gf5866f7</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('ULRV2View_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ULRV2View.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ULRV2View_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="projects_2ulr_2renderer_2Config_8hpp.html">Config.hpp</a>&quot;</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Resources_8hpp.html">core/assets/Resources.hpp</a>&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="ULRV2View_8hpp.html">projects/ulr/renderer/ULRV2View.hpp</a>&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Vector_8hpp.html">core/system/Vector.hpp</a>&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Texture_8hpp.html">core/graphics/Texture.hpp</a>&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="GUI_8hpp.html">core/graphics/GUI.hpp</a>&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160; </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacesibr.html">sibr</a> { </div>
<div class="line"><a name="l00011"></a><span class="lineno"><a class="line" href="classsibr_1_1ULRV2View.html#a928479eee8e365f5719060dcdff9b091">   11</a></span>&#160;    <a class="code" href="classsibr_1_1ULRV2View.html#a928479eee8e365f5719060dcdff9b091">ULRV2View::~ULRV2View</a>( )</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;{</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    <a class="code" href="classsibr_1_1ULRV2View.html#a0877d8f9b3b6c95533ff2a34fce70aaf">_altMesh</a>.reset();</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;}</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="classsibr_1_1ULRV2View.html#a370830366f4054455ad0f77c5e2f46d1">   16</a></span>&#160;<a class="code" href="classsibr_1_1ULRV2View.html#a370830366f4054455ad0f77c5e2f46d1">ULRV2View::ULRV2View</a>( <span class="keyword">const</span> sibr::BasicIBRScene::Ptr&amp; ibrScene, <a class="code" href="core_2system_2Config_8hpp.html#a4d3943ddea65db7163a58e6c7e8df95a">uint</a> render_w, <a class="code" href="core_2system_2Config_8hpp.html#a4d3943ddea65db7163a58e6c7e8df95a">uint</a> render_h ) :</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    _scene(ibrScene),</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;        <a class="code" href="namespacesibr.html">sibr</a>::<a class="code" href="classsibr_1_1ViewBase.html">ViewBase</a>(render_w, render_h), </div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    _renderMode(<a class="code" href="classsibr_1_1ULRV2View.html">ULRV2View</a>::<a class="code" href="classsibr_1_1ULRV2View.html#a9791f765dbc6a8ccf2340188fcb13722">RenderMode</a>::NORMAL), _singleCamId(0)</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;{</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    <a class="code" href="classsibr_1_1ULRV2View.html#a0877d8f9b3b6c95533ff2a34fce70aaf">_altMesh</a>.reset();</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    <a class="code" href="classsibr_1_1ULRV2View.html#a0877d8f9b3b6c95533ff2a34fce70aaf">_altMesh</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <a class="code" href="classsibr_1_1ULRV2View.html#acdea5f8a8458911bbe2f66a6bf426757">_numDistUlr</a> = 4, <a class="code" href="classsibr_1_1ULRV2View.html#a71ab2073f57688a2b00daebea0e74cbd">_numAnglUlr</a> = 0;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;[ULR] setting number of images to blend &quot;</span>&lt;&lt; <a class="code" href="classsibr_1_1ULRV2View.html#acdea5f8a8458911bbe2f66a6bf426757">_numDistUlr</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="classsibr_1_1ULRV2View.html#a71ab2073f57688a2b00daebea0e74cbd">_numAnglUlr</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <a class="code" href="classsibr_1_1ULRV2View.html#a6af7f25c5ba56b8290330e2ef4a5b78a">_ulr</a>.reset(<span class="keyword">new</span> <a class="code" href="classsibr_1_1ULRV2Renderer.html">ULRV2Renderer</a>(ibrScene-&gt;cameras()-&gt;inputCameras(), render_w, render_h, <a class="code" href="classsibr_1_1ULRV2View.html#acdea5f8a8458911bbe2f66a6bf426757">_numDistUlr</a> + <a class="code" href="classsibr_1_1ULRV2View.html#a71ab2073f57688a2b00daebea0e74cbd">_numAnglUlr</a>));</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <a class="code" href="core_2system_2Config_8hpp.html#a4d3943ddea65db7163a58e6c7e8df95a">uint</a> w = render_w;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <a class="code" href="core_2system_2Config_8hpp.html#a4d3943ddea65db7163a58e6c7e8df95a">uint</a> h = render_h;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <a class="code" href="classsibr_1_1ULRV2View.html#a77ad88606f9476d3422c66c11fb296f7">_poissonRT</a>.reset(<span class="keyword">new</span> <a class="code" href="namespacesibr.html#a3b52f23f413be59f3ca9269c00a8728c">RenderTargetRGBA</a>(w, h, <a class="code" href="Types_8hpp.html#a9f2169e9ddd666cfe75e23c5bb9fe276">SIBR_CLAMP_UVS</a>));</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <a class="code" href="classsibr_1_1ULRV2View.html#a6ebce8c8030de14c642486af92b54ce1">_blendRT</a>.reset(<span class="keyword">new</span> <a class="code" href="namespacesibr.html#a3b52f23f413be59f3ca9269c00a8728c">RenderTargetRGBA</a>(w, h, <a class="code" href="Types_8hpp.html#a9f2169e9ddd666cfe75e23c5bb9fe276">SIBR_CLAMP_UVS</a>));</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <a class="code" href="classsibr_1_1ULRV2View.html#a9fb81b8cf98a3f19003425eda4a66a2f">_poisson</a>.reset(<span class="keyword">new</span> <a class="code" href="classsibr_1_1PoissonRenderer.html">PoissonRenderer</a>(w,h));</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <a class="code" href="classsibr_1_1ULRV2View.html#a9fb81b8cf98a3f19003425eda4a66a2f">_poisson</a>-&gt;enableFix() = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <a class="code" href="classsibr_1_1ULRV2View.html#a390b87d5d83b9d55ee4dc7bb95556129">_inputRTs</a> = ibrScene-&gt;renderTargets()-&gt;inputImagesRT();</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <a class="code" href="classsibr_1_1ULRV2View.html#a1b6396e1b34fe7c54b185024236e5acb">testAltlULRShader</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;}</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="classsibr_1_1ULRV2View.html#a67e3527254240bc7d300854b74b5ee25">   38</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classsibr_1_1ULRV2View.html#a67e3527254240bc7d300854b74b5ee25">ULRV2View::onRenderIBR</a>( <a class="code" href="classsibr_1_1IRenderTarget.html">sibr::IRenderTarget</a>&amp; <a class="code" href="namespaceibr__preprocess__rc__to__sibr.html#a4dc1ac3c3a4ca0032d5f0322eddc0d9c">dst</a>, <span class="keyword">const</span> <a class="code" href="classsibr_1_1Camera.html">sibr::Camera</a>&amp; eye ) {</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="comment">// Select subset of input images for ULR</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="comment">//std::vector&lt;uint&gt; imgs_ulr = chosen_cameras(eye);</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    std::vector&lt;uint&gt; imgs_ulr = <a class="code" href="classsibr_1_1ULRV2View.html#a33166398420a9b15d2f4d34a1f708cce">chosen_cameras_angdist</a>(eye);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="classsibr_1_1ULRV2View.html#af909b3fe7ba983924a58f25a0fe269dc">_scene</a>-&gt;cameras()-&gt;debugFlagCameraAsUsed(imgs_ulr);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="comment">//std::cout &lt;&lt; imgs_ulr.size() &lt;&lt; &quot; &quot; &lt;&lt; std::flush;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classsibr_1_1ULRV2View.html#ace7d8862e0be4ea2bbe8241d4579fe26">_renderMode</a> == <a class="code" href="classsibr_1_1ULRV2View.html#a9791f765dbc6a8ccf2340188fcb13722a497335a8a75fdf45f9bb6c948d2ed877">RenderMode::ONLY_ONE_CAM</a>) {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : imgs_ulr) {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;            <span class="comment">//std::cout &lt;&lt; i &lt;&lt; &quot; &quot;;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        }</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="keywordtype">int</span> id_cam = std::max(0, std::min((<span class="keywordtype">int</span>)imgs_ulr.size()-1, <a class="code" href="classsibr_1_1ULRV2View.html#ad14ca4e69e5421f4c402fc12d7d7ae07">_singleCamId</a>));</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="keywordtype">int</span> cam = imgs_ulr[id_cam];</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        imgs_ulr = std::vector&lt;uint&gt;(1, cam);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="comment">//std::cout &lt;&lt; &quot; -&gt; ulr debug single cam, id : &quot; &lt;&lt; _singleCamId &lt;&lt; &quot;, cam : &quot;;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="comment">//for (auto i : imgs_ulr) {</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            <span class="comment">//std::cout &lt;&lt; i &lt;&lt; &quot; &quot;;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="comment">//}</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="comment">//std::cout &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="classsibr_1_1ULRV2View.html#ace7d8862e0be4ea2bbe8241d4579fe26">_renderMode</a> == <a class="code" href="classsibr_1_1ULRV2View.html#a9791f765dbc6a8ccf2340188fcb13722ac5bcc0d04a928ec0debffde29fec5550">RenderMode::LEAVE_ONE_OUT</a>) {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        std::vector&lt;uint&gt; new_imgs_ulr;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span> &amp; i : imgs_ulr) {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                <span class="keywordflow">if</span>(<span class="keywordtype">int</span>(i) != <a class="code" href="classsibr_1_1ULRV2View.html#ad14ca4e69e5421f4c402fc12d7d7ae07">_singleCamId</a>) {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                    new_imgs_ulr.emplace_back(i);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                }</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        }</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        imgs_ulr = new_imgs_ulr;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    }</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classsibr_1_1ULRV2View.html#a66cabaf0fe02abbb76de6d501b078b34">_noPoissonBlend</a>) {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <a class="code" href="classsibr_1_1ULRV2View.html#a6af7f25c5ba56b8290330e2ef4a5b78a">_ulr</a>-&gt;process(</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            imgs_ulr,</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            eye,</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            <a class="code" href="classsibr_1_1ULRV2View.html#af909b3fe7ba983924a58f25a0fe269dc">_scene</a>,</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            <a class="code" href="classsibr_1_1ULRV2View.html#a0877d8f9b3b6c95533ff2a34fce70aaf">_altMesh</a>,</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            <a class="code" href="classsibr_1_1ULRV2View.html#a390b87d5d83b9d55ee4dc7bb95556129">_inputRTs</a>,</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            <a class="code" href="namespaceibr__preprocess__rc__to__sibr.html#a4dc1ac3c3a4ca0032d5f0322eddc0d9c">dst</a>);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    }  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            <a class="code" href="classsibr_1_1ULRV2View.html#a6af7f25c5ba56b8290330e2ef4a5b78a">_ulr</a>-&gt;process(</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                <span class="comment">/* input -- images chosen */</span> imgs_ulr, </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                <span class="comment">/* input -- camera position */</span> eye, </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                <span class="comment">/* input -- scene */</span> <a class="code" href="classsibr_1_1ULRV2View.html#af909b3fe7ba983924a58f25a0fe269dc">_scene</a>, </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                <span class="comment">/* input -- alt mesh if available */</span> <a class="code" href="classsibr_1_1ULRV2View.html#a0877d8f9b3b6c95533ff2a34fce70aaf">_altMesh</a>, </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                <span class="comment">/* input -- input RTs -- can be RGB or alpha */</span>  <a class="code" href="classsibr_1_1ULRV2View.html#a390b87d5d83b9d55ee4dc7bb95556129">_inputRTs</a>,</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                <span class="comment">/* output */</span> *<a class="code" href="classsibr_1_1ULRV2View.html#a6ebce8c8030de14c642486af92b54ce1">_blendRT</a>);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            <a class="code" href="classsibr_1_1ULRV2View.html#a9fb81b8cf98a3f19003425eda4a66a2f">_poisson</a>-&gt;process(</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                    <a class="code" href="classsibr_1_1ULRV2View.html#a6ebce8c8030de14c642486af92b54ce1">_blendRT</a>,</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                    <a class="code" href="classsibr_1_1ULRV2View.html#a77ad88606f9476d3422c66c11fb296f7">_poissonRT</a>);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <a class="code" href="group__sibr__graphics.html#ga0092d17a388c5b6ef7cdb7d5fb99b15f">blit</a>(*<a class="code" href="classsibr_1_1ULRV2View.html#a77ad88606f9476d3422c66c11fb296f7">_poissonRT</a>, <a class="code" href="namespaceibr__preprocess__rc__to__sibr.html#a4dc1ac3c3a4ca0032d5f0322eddc0d9c">dst</a>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    }</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;}</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="classsibr_1_1ULRV2View.html#a9a2246bfe89af9ef33bcbc4bae85871d">   94</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classsibr_1_1ULRV2View.html#a9a2246bfe89af9ef33bcbc4bae85871d">ULRV2View::onUpdate</a>(<a class="code" href="classsibr_1_1Input.html">Input</a> &amp; input)</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;{</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">if</span> (input.<a class="code" href="classsibr_1_1Input.html#a6c02ef102e4ce5f6d80efeaf4b7e4b60">key</a>().<a class="code" href="classsibr_1_1InputState.html#a1b29f1bc5cc3f6147ac666df4e5acdf6">isReleased</a>(<a class="code" href="namespacesibr_1_1Key.html#a0362976574888ce696967db1a13ebbd9ab18b1731cc47b776d27304c5de46ffce">sibr::Key::Tab</a>)) {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <a class="code" href="classsibr_1_1ULRV2View.html#a1b6396e1b34fe7c54b185024236e5acb">testAltlULRShader</a> = !<a class="code" href="classsibr_1_1ULRV2View.html#a1b6396e1b34fe7c54b185024236e5acb">testAltlULRShader</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classsibr_1_1ULRV2View.html#a1b6396e1b34fe7c54b185024236e5acb">testAltlULRShader</a>) {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            <a class="code" href="classsibr_1_1ULRV2View.html#a6af7f25c5ba56b8290330e2ef4a5b78a">_ulr</a>-&gt;setupULRshader(<span class="stringliteral">&quot;ulr_v2_alt&quot;</span>);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <a class="code" href="classsibr_1_1ULRV2View.html#a6af7f25c5ba56b8290330e2ef4a5b78a">_ulr</a>-&gt;setupULRshader();</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;ULR using &quot;</span> &lt;&lt; (<a class="code" href="classsibr_1_1ULRV2View.html#a1b6396e1b34fe7c54b185024236e5acb">testAltlULRShader</a> ? <span class="stringliteral">&quot;all cams&quot;</span> : <span class="stringliteral">&quot;standard ulr&quot;</span>) &lt;&lt; std::endl;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="classsibr_1_1ULRV2View.html#af58fd0d37a94ce7fc5b0929313fc9ea1">  107</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classsibr_1_1ULRV2View.html#af58fd0d37a94ce7fc5b0929313fc9ea1">ULRV2View::onGUI</a>() {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keyword">const</span> std::string guiName = <span class="stringliteral">&quot;ULRV2 Settings (&quot;</span> + <a class="code" href="classsibr_1_1ViewBase.html#a121e81b744a49415571dcd08c44c7603">name</a>() + <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keywordflow">if</span>(ImGui::Begin(guiName.c_str())) {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            <a class="code" href="group__sibr__graphics.html#gacad201744a1676ce4542552eb4f221ff">ImGui::PushScaledItemWidth</a>(80);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> v1_changed = ImGui::InputInt(<span class="stringliteral">&quot;#Dist&quot;</span>, &amp;<a class="code" href="classsibr_1_1ULRV2View.html#acdea5f8a8458911bbe2f66a6bf426757">_numDistUlr</a>, 1, 10);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            ImGui::SameLine();</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> v2_changed = ImGui::InputInt(<span class="stringliteral">&quot;#Angle&quot;</span>, &amp;<a class="code" href="classsibr_1_1ULRV2View.html#a71ab2073f57688a2b00daebea0e74cbd">_numAnglUlr</a>, 1, 10);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            ImGui::PopItemWidth();</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <span class="keywordflow">if</span> (v1_changed || v2_changed) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                <a class="code" href="classsibr_1_1ULRV2View.html#a15d94ed76fe51420e219d1946549cfa7">setNumBlend</a>(<a class="code" href="classsibr_1_1ULRV2View.html#acdea5f8a8458911bbe2f66a6bf426757">_numDistUlr</a>, <a class="code" href="classsibr_1_1ULRV2View.html#a71ab2073f57688a2b00daebea0e74cbd">_numAnglUlr</a>);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            ImGui::Checkbox(<span class="stringliteral">&quot;Disable Poisson&quot;</span>, &amp;<a class="code" href="classsibr_1_1ULRV2View.html#a66cabaf0fe02abbb76de6d501b078b34">_noPoissonBlend</a>);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            ImGui::Checkbox(<span class="stringliteral">&quot;Poisson fix&quot;</span>, &amp;<a class="code" href="classsibr_1_1ULRV2View.html#a9fb81b8cf98a3f19003425eda4a66a2f">_poisson</a>-&gt;enableFix());</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <a class="code" href="group__sibr__graphics.html#gacad201744a1676ce4542552eb4f221ff">ImGui::PushScaledItemWidth</a>(120);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            ImGui::InputFloat(<span class="stringliteral">&quot;Epsilon occlusion&quot;</span>, &amp;<a class="code" href="classsibr_1_1ULRV2View.html#a6af7f25c5ba56b8290330e2ef4a5b78a">_ulr</a>-&gt;epsilonOcclusion(), 0.001f, 0.01f);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            ImGui::Combo(<span class="stringliteral">&quot;Rendering mode&quot;</span>, (<span class="keywordtype">int</span>*)(&amp;<a class="code" href="classsibr_1_1ULRV2View.html#ace7d8862e0be4ea2bbe8241d4579fe26">_renderMode</a>), <span class="stringliteral">&quot;Standard\0One image\0Leave one out\0\0&quot;</span>);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            <span class="keywordflow">if</span> (ImGui::InputInt(<span class="stringliteral">&quot;Selected image&quot;</span>, &amp;<a class="code" href="classsibr_1_1ULRV2View.html#ad14ca4e69e5421f4c402fc12d7d7ae07">_singleCamId</a>, 1, 10)) {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                <a class="code" href="classsibr_1_1ULRV2View.html#ace7d8862e0be4ea2bbe8241d4579fe26">_renderMode</a> = <a class="code" href="classsibr_1_1ULRV2View.html#a9791f765dbc6a8ccf2340188fcb13722a497335a8a75fdf45f9bb6c948d2ed877">RenderMode::ONLY_ONE_CAM</a>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <a class="code" href="classsibr_1_1ULRV2View.html#ad14ca4e69e5421f4c402fc12d7d7ae07">_singleCamId</a> = <a class="code" href="group__sibr__graphics.html#gac636c2a2660c7d9070ea04f2112c9c67">sibr::clamp</a>(<a class="code" href="classsibr_1_1ULRV2View.html#ad14ca4e69e5421f4c402fc12d7d7ae07">_singleCamId</a>, 0, (<span class="keywordtype">int</span>)<a class="code" href="classsibr_1_1ULRV2View.html#af909b3fe7ba983924a58f25a0fe269dc">_scene</a>-&gt;cameras()-&gt;inputCameras().size() - 1);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            <span class="comment">//ImGui::SliderInt(&quot;Selected image&quot;, &amp;_singleCamId, 0, scene().inputCameras().size() - 1);</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            ImGui::PopItemWidth();</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <a class="code" href="namespacesibr_1_1Key.html#a0362976574888ce696967db1a13ebbd9a8c1b8c9cd39b9224bb5a3469f9e82b4f">ImGui::End</a>();</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="classsibr_1_1ULRV2View.html#a5442c853327b1a4c6f0ad46f03b1db78">  140</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classsibr_1_1ULRV2View.html#a5442c853327b1a4c6f0ad46f03b1db78">ULRV2View::computeVisibilityMap</a>(<span class="keyword">const</span> <a class="code" href="classsibr_1_1Image.html">sibr::ImageL32F</a> &amp; depthMap, <a class="code" href="classsibr_1_1Image.html">sibr::ImageRGBA</a> &amp; out)</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;{</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> threshold_3d = 2.5f;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keyword">const</span> std::vector&lt;sibr::Vector2i&gt; shifts = { { 1,0 },{ 0,1 },{ -1,0 },{ 0,-1 } };</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="classsibr_1_1Image.html">sibr::ImageL8</a> edgeMap(depthMap.<a class="code" href="group__sibr__graphics.html#gaa4e85f4bdea18ac63a8a7abaf48f0331">w</a>(), depthMap.<a class="code" href="group__sibr__graphics.html#ga1a9a71c1d6527377023ec032d363cad2">h</a>(), 255);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="core_2system_2Config_8hpp.html#a4d3943ddea65db7163a58e6c7e8df95a">uint</a> i = 0; i &lt; depthMap.<a class="code" href="group__sibr__graphics.html#ga1a9a71c1d6527377023ec032d363cad2">h</a>(); i++) {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="core_2system_2Config_8hpp.html#a4d3943ddea65db7163a58e6c7e8df95a">uint</a> j = 0; j &lt; depthMap.<a class="code" href="group__sibr__graphics.html#gaa4e85f4bdea18ac63a8a7abaf48f0331">w</a>(); j++) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <a class="code" href="group__sibr__system.html#gabd2cf610175b663874284d962a6a4c6a">sibr::Vector2i</a> pos(j, i);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            <span class="keywordtype">float</span> currentDepth = depthMap(pos).x();</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; shift : shifts) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                <a class="code" href="group__sibr__system.html#gabd2cf610175b663874284d962a6a4c6a">Vector2i</a> npos = pos + shift;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                <span class="keywordflow">if</span> (!depthMap.<a class="code" href="group__sibr__graphics.html#gaa1c34680e689dbb3f7f32b03f8818fcb">isInRange</a>(npos)) { <span class="keywordflow">continue</span>; }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                <span class="keywordflow">if</span> (std::abs(depthMap(npos).x() - currentDepth) &gt; threshold_3d) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                    edgeMap(pos).x() = 0;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    cv::Mat <a class="code" href="group__sibr__system.html#gadf42f2cb63d62f06706ca6aa4c7ec0a6">distance</a>(depthMap.<a class="code" href="group__sibr__graphics.html#ga1a9a71c1d6527377023ec032d363cad2">h</a>(), depthMap.<a class="code" href="group__sibr__graphics.html#gaa4e85f4bdea18ac63a8a7abaf48f0331">w</a>(), CV_32FC1);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    cv::distanceTransform(edgeMap.<a class="code" href="group__sibr__graphics.html#gab781657b66eb4b242aa7dfb670ff961a">toOpenCVnonConst</a>(), <a class="code" href="group__sibr__system.html#gadf42f2cb63d62f06706ca6aa4c7ec0a6">distance</a>, cv::DIST_L2, cv::DIST_MASK_PRECISE);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="classsibr_1_1Image.html">sibr::ImageL32F</a> outF;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    outF.<a class="code" href="group__sibr__graphics.html#ga0e97272f4c006cd0bfd60aa78ba0b8cc">fromOpenCV</a>(<a class="code" href="group__sibr__system.html#gadf42f2cb63d62f06706ca6aa4c7ec0a6">distance</a>);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    out = <a class="code" href="group__sibr__graphics.html#gafdcfea35c4f91d8c289d9447e9d42ffd">sibr::convertL32FtoRGBA</a>(outF);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="comment">// -----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="classsibr_1_1ULRV2View.html#ac7c4a293e3a14b15228e36fae073f23f">  172</a></span>&#160;std::vector&lt;uint&gt; <a class="code" href="classsibr_1_1ULRV2View.html#ac7c4a293e3a14b15228e36fae073f23f">ULRV2View::chosen_cameras</a>(<span class="keyword">const</span> <a class="code" href="classsibr_1_1Camera.html">sibr::Camera</a>&amp; eye) {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    std::vector&lt;uint&gt; imgs_id;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    std::multimap&lt;float,uint&gt; distMap;                                  <span class="comment">// distance wise closest input cameras</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    std::multimap&lt;float,uint&gt; dang;                                 <span class="comment">// angular distance from inputs to novel camera</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="core_2system_2Config_8hpp.html#a4d3943ddea65db7163a58e6c7e8df95a">uint</a> i=0; i&lt; <a class="code" href="classsibr_1_1ULRV2View.html#af909b3fe7ba983924a58f25a0fe269dc">_scene</a>-&gt;cameras()-&gt;inputCameras().size(); i++ ) {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keyword">const</span> <a class="code" href="classsibr_1_1InputCamera.html">sibr::InputCamera</a>&amp; inputCam = *<a class="code" href="classsibr_1_1ULRV2View.html#af909b3fe7ba983924a58f25a0fe269dc">_scene</a>-&gt;cameras()-&gt;inputCameras()[i];</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">if</span> (inputCam.<a class="code" href="classsibr_1_1InputCamera.html#a0d9999ca90022afba4581e670ec14b94">isActive</a>()) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="comment">// Convert following to Eigen versions</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <span class="keywordtype">float</span> dist = <a class="code" href="group__sibr__system.html#gadf42f2cb63d62f06706ca6aa4c7ec0a6">sibr::distance</a>(inputCam.<a class="code" href="classsibr_1_1Camera.html#a504e28d6b69320e2accfe4e18ce090ef">position</a>(), eye.<a class="code" href="classsibr_1_1Camera.html#a504e28d6b69320e2accfe4e18ce090ef">position</a>());</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <span class="keywordtype">float</span> angle = <a class="code" href="group__sibr__system.html#gabb268fe698d482a3ddd19e59d5655938">sibr::dot</a>(inputCam.<a class="code" href="classsibr_1_1Camera.html#a862cb20c35f138a56f16d98333bbe331">dir</a>(),eye.<a class="code" href="classsibr_1_1Camera.html#a862cb20c35f138a56f16d98333bbe331">dir</a>());</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                distMap.insert(std::make_pair(dist,i));                 <span class="comment">// sort distances in increasing order</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                dang.insert(std::make_pair( acos(angle),i));                <span class="comment">// sort angles in increasing order</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="core_2system_2Config_8hpp.html#a4d3943ddea65db7163a58e6c7e8df95a">uint</a> i=0; i&lt; <a class="code" href="classsibr_1_1ULRV2View.html#af909b3fe7ba983924a58f25a0fe269dc">_scene</a>-&gt;cameras()-&gt;inputCameras().size(); i++) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keyword">const</span> <a class="code" href="classsibr_1_1InputCamera.html">sibr::InputCamera</a>&amp; inputCam = *<a class="code" href="classsibr_1_1ULRV2View.html#af909b3fe7ba983924a58f25a0fe269dc">_scene</a>-&gt;cameras()-&gt;inputCameras()[i];</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordflow">if</span> (inputCam.<a class="code" href="classsibr_1_1InputCamera.html#a0d9999ca90022afba4581e670ec14b94">isActive</a>() &amp;&amp; distMap.size() &lt;= (<a class="code" href="classsibr_1_1ULRV2View.html#acdea5f8a8458911bbe2f66a6bf426757">_numDistUlr</a>+<a class="code" href="classsibr_1_1ULRV2View.html#a71ab2073f57688a2b00daebea0e74cbd">_numAnglUlr</a>)/2 ) {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            <span class="keywordtype">float</span> dist = <a class="code" href="group__sibr__system.html#gadf42f2cb63d62f06706ca6aa4c7ec0a6">sibr::distance</a>(inputCam.<a class="code" href="classsibr_1_1Camera.html#a504e28d6b69320e2accfe4e18ce090ef">position</a>(),eye.<a class="code" href="classsibr_1_1Camera.html#a504e28d6b69320e2accfe4e18ce090ef">position</a>());</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            distMap.insert(std::make_pair(dist,i));                 <span class="comment">// sort distances in increasing order</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    std::multimap&lt;float,uint&gt;::const_iterator d_it(distMap.begin());    <span class="comment">// select the _numDistUlr closest cameras</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; d_it!=distMap.end() &amp;&amp; i&lt;<a class="code" href="classsibr_1_1ULRV2View.html#acdea5f8a8458911bbe2f66a6bf426757">_numDistUlr</a>; d_it++,i++) {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        imgs_id.push_back(d_it-&gt;second);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    std::multimap&lt;float,uint&gt;::const_iterator a_it(dang.begin());    <span class="comment">// select the NUM_ANG_ULR closest cameras</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; a_it!=dang.end() &amp;&amp; i&lt;<a class="code" href="classsibr_1_1ULRV2View.html#a71ab2073f57688a2b00daebea0e74cbd">_numAnglUlr</a>; a_it++,i++) {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        imgs_id.push_back(a_it-&gt;second);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    std::sort( imgs_id.begin(), imgs_id.end() );                <span class="comment">// Avoid repetitions</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    imgs_id.erase( std::unique( imgs_id.begin(), imgs_id.end() ), imgs_id.end() );</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="core_2system_2Config_8hpp.html#a4b0d32db99c8a880654021ba78c7e2be">SIBR_ASSERT</a>(imgs_id.size() &lt;= <a class="code" href="classsibr_1_1ULRV2View.html#acdea5f8a8458911bbe2f66a6bf426757">_numDistUlr</a> + <a class="code" href="classsibr_1_1ULRV2View.html#a71ab2073f57688a2b00daebea0e74cbd">_numAnglUlr</a>);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">return</span> imgs_id;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;}</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="classsibr_1_1ULRV2View.html#a33166398420a9b15d2f4d34a1f708cce">  211</a></span>&#160;std::vector&lt;uint&gt; <a class="code" href="classsibr_1_1ULRV2View.html#a33166398420a9b15d2f4d34a1f708cce">ULRV2View::chosen_cameras_angdist</a>(<span class="keyword">const</span> <a class="code" href="classsibr_1_1Camera.html">sibr::Camera</a> &amp; eye)</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;{</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp; cams = <a class="code" href="classsibr_1_1ULRV2View.html#af909b3fe7ba983924a58f25a0fe269dc">_scene</a>-&gt;cameras()-&gt;inputCameras();</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    std::vector&lt;uint&gt; out;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="comment">// sort angle / dist combined</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keyword">struct </span>camAng</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        camAng() {}</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        camAng(<span class="keywordtype">float</span> a, <span class="keywordtype">float</span> d, <span class="keywordtype">int</span> i) : ang(a), dist(d), id(i) {}</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordtype">float</span> ang, dist;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordtype">int</span> id;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">bool</span> compare(<span class="keyword">const</span> camAng &amp; a, <span class="keyword">const</span> camAng &amp; b) { <span class="keywordflow">return</span> a.ang / a.dist &gt; b.ang / b.dist;  }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    };</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordtype">int</span> total_size = <a class="code" href="classsibr_1_1ULRV2View.html#a71ab2073f57688a2b00daebea0e74cbd">_numAnglUlr</a> + <a class="code" href="classsibr_1_1ULRV2View.html#acdea5f8a8458911bbe2f66a6bf426757">_numDistUlr</a>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    std::vector&lt;camAng&gt; allAng;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0; <span class="keywordtype">id</span> &lt; (int)cams.size(); ++id) {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> &amp; cam = *cams[id];</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordtype">float</span> angle = <a class="code" href="group__sibr__system.html#gabb268fe698d482a3ddd19e59d5655938">sibr::dot</a>(cam.dir(),eye.<a class="code" href="classsibr_1_1Camera.html#a862cb20c35f138a56f16d98333bbe331">dir</a>());</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="comment">// reject back facing </span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordflow">if</span>( angle &gt; 0.001 &amp;&amp; cam.isActive()) {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <span class="keywordtype">float</span> dist =  (cam.position() - eye.<a class="code" href="classsibr_1_1Camera.html#a504e28d6b69320e2accfe4e18ce090ef">position</a>()).norm();</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            allAng.push_back(camAng(angle, dist, <span class="keywordtype">id</span>));      </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    std::vector&lt;bool&gt; wasChosen(cams.size(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    std::sort(allAng.begin(), allAng.end(), camAng::compare);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0; <span class="keywordtype">id</span> &lt; std::min((<span class="keywordtype">int</span>)allAng.size(), total_size); ++id) {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        out.push_back(allAng[<span class="keywordtype">id</span>].<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        wasChosen[allAng[id].id] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0; <span class="keywordtype">id</span> &lt; (int)cams.size(); ++id) {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="keywordflow">if</span> (!wasChosen[<span class="keywordtype">id</span>] &amp;&amp; out.size() &lt; total_size &amp;&amp; cams[id]-&gt;isActive()) {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            out.push_back(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">return</span> out;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;}</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="classsibr_1_1ULRV2View.html#a3572825ac11ef396ab265a94edbd4271">  256</a></span>&#160;std::vector&lt;uint&gt; <a class="code" href="classsibr_1_1ULRV2View.html#a3572825ac11ef396ab265a94edbd4271">ULRV2View::chosen_camerasNew</a>(<span class="keyword">const</span> <a class="code" href="classsibr_1_1Camera.html">sibr::Camera</a> &amp; eye)</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;{</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp; cams = <a class="code" href="classsibr_1_1ULRV2View.html#af909b3fe7ba983924a58f25a0fe269dc">_scene</a>-&gt;cameras()-&gt;inputCameras();</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keyword">struct </span>camDist</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        camDist() {}</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        camDist(<span class="keywordtype">float</span> d, <span class="keywordtype">int</span> i) : dist(d), id(i) {}</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordtype">float</span> dist;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordtype">int</span> id;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">bool</span> compare(<span class="keyword">const</span> camDist &amp; a, <span class="keyword">const</span> camDist &amp; b) { <span class="keywordflow">return</span> a.dist &lt; b.dist;  }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    };</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    std::vector&lt;camDist&gt; allDist;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0; <span class="keywordtype">id</span> &lt; (int)cams.size(); ++id) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> &amp; cam = *cams[id];</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        allDist.push_back(camDist((cam.position() - eye.<a class="code" href="classsibr_1_1Camera.html#a504e28d6b69320e2accfe4e18ce090ef">position</a>()).norm(), <span class="keywordtype">id</span>));</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    std::sort(allDist.begin(), allDist.end(), camDist::compare);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    std::vector&lt;uint&gt; out;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0; <span class="keywordtype">id</span> &lt; std::min((<span class="keywordtype">int</span>)cams.size(),(<span class="keywordtype">int</span>)<a class="code" href="classsibr_1_1ULRV2View.html#acdea5f8a8458911bbe2f66a6bf426757">_numDistUlr</a>); ++id) {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        out.push_back(allDist[<span class="keywordtype">id</span>].<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">return</span> out;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;}</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="classsibr_1_1ULRV2View.html#a15d94ed76fe51420e219d1946549cfa7">  282</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classsibr_1_1ULRV2View.html#a15d94ed76fe51420e219d1946549cfa7">ULRV2View::setNumBlend</a>(<span class="keywordtype">short</span> <span class="keywordtype">int</span> dist, <span class="keywordtype">short</span> <span class="keywordtype">int</span> angle)</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;{</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="comment">// Backup masks.</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keyword">auto</span> copyMasks = <a class="code" href="classsibr_1_1ULRV2View.html#a6af7f25c5ba56b8290330e2ef4a5b78a">_ulr</a>-&gt;getMasks();</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="classsibr_1_1ULRV2View.html#acdea5f8a8458911bbe2f66a6bf426757">_numDistUlr</a> = dist, <a class="code" href="classsibr_1_1ULRV2View.html#a71ab2073f57688a2b00daebea0e74cbd">_numAnglUlr</a> = angle;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;[ULR] setting number of images to blend &quot;</span> &lt;&lt; <a class="code" href="classsibr_1_1ULRV2View.html#acdea5f8a8458911bbe2f66a6bf426757">_numDistUlr</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="classsibr_1_1ULRV2View.html#a71ab2073f57688a2b00daebea0e74cbd">_numAnglUlr</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="classsibr_1_1ULRV2View.html#a6af7f25c5ba56b8290330e2ef4a5b78a">_ulr</a>.reset(<span class="keyword">new</span> <a class="code" href="classsibr_1_1ULRV2Renderer.html">ULRV2Renderer</a>(<a class="code" href="classsibr_1_1ULRV2View.html#af909b3fe7ba983924a58f25a0fe269dc">_scene</a>-&gt;cameras()-&gt;inputCameras(), <a class="code" href="classsibr_1_1ULRV2View.html#af909b3fe7ba983924a58f25a0fe269dc">_scene</a>-&gt;cameras()-&gt;inputCameras()[0]-&gt;w(), <a class="code" href="classsibr_1_1ULRV2View.html#af909b3fe7ba983924a58f25a0fe269dc">_scene</a>-&gt;cameras()-&gt;inputCameras()[0]-&gt;h(), <a class="code" href="classsibr_1_1ULRV2View.html#acdea5f8a8458911bbe2f66a6bf426757">_numDistUlr</a> + <a class="code" href="classsibr_1_1ULRV2View.html#a71ab2073f57688a2b00daebea0e74cbd">_numAnglUlr</a>));</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="classsibr_1_1ULRV2View.html#a6af7f25c5ba56b8290330e2ef4a5b78a">_ulr</a>-&gt;setMasks(copyMasks);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;}</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="classsibr_1_1ULRV2View.html#a3c368e5311e50d18010230bba41c8c0b">  294</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classsibr_1_1ULRV2View.html#a3c368e5311e50d18010230bba41c8c0b">ULRV2View::loadMasks</a>(<span class="keyword">const</span> sibr::BasicIBRScene::Ptr&amp; ibrScene, <span class="keywordtype">int</span> w, <span class="keywordtype">int</span> h, <span class="keyword">const</span> std::string&amp; maskDir, <span class="keyword">const</span> std::string&amp; preFileName, <span class="keyword">const</span> std::string&amp; postFileName</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;) {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    std::string finalMaskDir = (maskDir == <span class="stringliteral">&quot;&quot;</span> ? ibrScene-&gt;data()-&gt;basePathName() + <span class="stringliteral">&quot;/masks/&quot;</span> : maskDir);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    std::string finalPostFileName = (postFileName == <span class="stringliteral">&quot;&quot;</span> ? <span class="stringliteral">&quot;-mask.jpg&quot;</span> : postFileName);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="classsibr_1_1ULRV2View.html#a6af7f25c5ba56b8290330e2ef4a5b78a">_ulr</a>-&gt;loadMasks(ibrScene, finalMaskDir, preFileName, finalPostFileName, w, h);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;}</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno"><a class="line" href="classsibr_1_1ULRV2View.html#acc8b89bd84d53cd4137fff5ab2e18312">  301</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classsibr_1_1ULRV2View.html#acc8b89bd84d53cd4137fff5ab2e18312">ULRV2View::setMasks</a>( <span class="keyword">const</span> std::vector&lt;RenderTargetLum::Ptr&gt;&amp; masks ) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <a class="code" href="classsibr_1_1ULRV2View.html#a6af7f25c5ba56b8290330e2ef4a5b78a">_ulr</a>-&gt;setMasks(masks);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;}</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;} <span class="comment">/*namespace sibr*/</span> </div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_a6af7f25c5ba56b8290330e2ef4a5b78a"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#a6af7f25c5ba56b8290330e2ef4a5b78a">sibr::ULRV2View::_ulr</a></div><div class="ttdeci">ULRV2Renderer::Ptr _ulr</div><div class="ttdoc">ULRV2 renderer.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8hpp_source.html#l00141">ULRV2View.hpp:141</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_ad14ca4e69e5421f4c402fc12d7d7ae07"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#ad14ca4e69e5421f4c402fc12d7d7ae07">sibr::ULRV2View::_singleCamId</a></div><div class="ttdeci">int _singleCamId</div><div class="ttdoc">Selected camera in single view mode.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8hpp_source.html#l00158">ULRV2View.hpp:158</a></div></div>
<div class="ttc" id="aprojects_2ulr_2renderer_2Config_8hpp_html"><div class="ttname"><a href="projects_2ulr_2renderer_2Config_8hpp.html">Config.hpp</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_a67e3527254240bc7d300854b74b5ee25"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#a67e3527254240bc7d300854b74b5ee25">sibr::ULRV2View::onRenderIBR</a></div><div class="ttdeci">virtual void onRenderIBR(sibr::IRenderTarget &amp;dst, const sibr::Camera &amp;eye)</div><div class="ttdoc">Render using the ULR algorithm.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8cpp_source.html#l00038">ULRV2View.cpp:38</a></div></div>
<div class="ttc" id="aclasssibr_1_1ViewBase_html_a121e81b744a49415571dcd08c44c7603"><div class="ttname"><a href="classsibr_1_1ViewBase.html#a121e81b744a49415571dcd08c44c7603">sibr::ViewBase::name</a></div><div class="ttdeci">const std::string &amp; name() const</div><div class="ttdef"><b>Definition:</b> <a href="ViewBase_8cpp_source.html#l00040">ViewBase.cpp:40</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_a3572825ac11ef396ab265a94edbd4271"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#a3572825ac11ef396ab265a94edbd4271">sibr::ULRV2View::chosen_camerasNew</a></div><div class="ttdeci">virtual std::vector&lt; uint &gt; chosen_camerasNew(const sibr::Camera &amp;eye)</div><div class="ttdoc">Select input cameras to use for rendering, based only on distance.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8cpp_source.html#l00256">ULRV2View.cpp:256</a></div></div>
<div class="ttc" id="agroup__sibr__graphics_html_gaa1c34680e689dbb3f7f32b03f8818fcb"><div class="ttname"><a href="group__sibr__graphics.html#gaa1c34680e689dbb3f7f32b03f8818fcb">sibr::Image::isInRange</a></div><div class="ttdeci">bool isInRange(T x, T y) const</div><div class="ttdoc">Check if a pixel (x,y) is inside the image boundaries.</div><div class="ttdef"><b>Definition:</b> <a href="Image_8hpp_source.html#l00400">Image.hpp:400</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_a66cabaf0fe02abbb76de6d501b078b34"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#a66cabaf0fe02abbb76de6d501b078b34">sibr::ULRV2View::_noPoissonBlend</a></div><div class="ttdeci">bool _noPoissonBlend</div><div class="ttdoc">Runtime status of the poisson blend.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8hpp_source.html#l00152">ULRV2View.hpp:152</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_a370830366f4054455ad0f77c5e2f46d1"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#a370830366f4054455ad0f77c5e2f46d1">sibr::ULRV2View::ULRV2View</a></div><div class="ttdeci">ULRV2View(const sibr::BasicIBRScene::Ptr &amp;ibrScene, uint render_w, uint render_h)</div><div class="ttdoc">Constructor.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8cpp_source.html#l00016">ULRV2View.cpp:16</a></div></div>
<div class="ttc" id="aGUI_8hpp_html"><div class="ttname"><a href="GUI_8hpp.html">GUI.hpp</a></div></div>
<div class="ttc" id="agroup__sibr__graphics_html_ga0092d17a388c5b6ef7cdb7d5fb99b15f"><div class="ttname"><a href="group__sibr__graphics.html#ga0092d17a388c5b6ef7cdb7d5fb99b15f">sibr::blit</a></div><div class="ttdeci">void blit(const IRenderTarget &amp;src, const IRenderTarget &amp;dst, GLbitfield mask, GLenum filter)</div><div class="ttdoc">Copy the content of a render target to another render target, resizing if needed.</div><div class="ttdef"><b>Definition:</b> <a href="RenderTarget_8cpp_source.html#l00006">RenderTarget.cpp:6</a></div></div>
<div class="ttc" id="agroup__sibr__system_html_gabd2cf610175b663874284d962a6a4c6a"><div class="ttname"><a href="group__sibr__system.html#gabd2cf610175b663874284d962a6a4c6a">sibr::Vector2i</a></div><div class="ttdeci">Eigen::Matrix&lt; int, 2, 1, Eigen::DontAlign &gt; Vector2i</div><div class="ttdef"><b>Definition:</b> <a href="Vector_8hpp_source.html#l00182">Vector.hpp:182</a></div></div>
<div class="ttc" id="aResources_8hpp_html"><div class="ttname"><a href="Resources_8hpp.html">Resources.hpp</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_a1b6396e1b34fe7c54b185024236e5acb"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#a1b6396e1b34fe7c54b185024236e5acb">sibr::ULRV2View::testAltlULRShader</a></div><div class="ttdeci">bool testAltlULRShader</div><div class="ttdoc">TT: to switch with alternate shader with tab.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8hpp_source.html#l00160">ULRV2View.hpp:160</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_a5442c853327b1a4c6f0ad46f03b1db78"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#a5442c853327b1a4c6f0ad46f03b1db78">sibr::ULRV2View::computeVisibilityMap</a></div><div class="ttdeci">void computeVisibilityMap(const sibr::ImageL32F &amp;depthMap, sibr::ImageRGBA &amp;out)</div><div class="ttdoc">Compute soft visibility map.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8cpp_source.html#l00140">ULRV2View.cpp:140</a></div></div>
<div class="ttc" id="aclasssibr_1_1Input_html"><div class="ttname"><a href="classsibr_1_1Input.html">sibr::Input</a></div><div class="ttdoc">Maintain the complete state of user interactions (mouse, keyboard) for a given view or window.</div><div class="ttdef"><b>Definition:</b> <a href="Input_8hpp_source.html#l00308">Input.hpp:309</a></div></div>
<div class="ttc" id="anamespacesibr_1_1Key_html_a0362976574888ce696967db1a13ebbd9ab18b1731cc47b776d27304c5de46ffce"><div class="ttname"><a href="namespacesibr_1_1Key.html#a0362976574888ce696967db1a13ebbd9ab18b1731cc47b776d27304c5de46ffce">sibr::Key::Tab</a></div><div class="ttdeci">@ Tab</div><div class="ttdef"><b>Definition:</b> <a href="Input_8hpp_source.html#l00074">Input.hpp:74</a></div></div>
<div class="ttc" id="agroup__sibr__graphics_html_gacad201744a1676ce4542552eb4f221ff"><div class="ttname"><a href="group__sibr__graphics.html#gacad201744a1676ce4542552eb4f221ff">ImGui::PushScaledItemWidth</a></div><div class="ttdeci">void PushScaledItemWidth(float item_width)</div><div class="ttdoc">Push a width for item which is HiDPI aware.</div><div class="ttdef"><b>Definition:</b> <a href="GUI_8cpp_source.html#l00311">GUI.cpp:311</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_af58fd0d37a94ce7fc5b0929313fc9ea1"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#af58fd0d37a94ce7fc5b0929313fc9ea1">sibr::ULRV2View::onGUI</a></div><div class="ttdeci">virtual void onGUI() override</div><div class="ttdoc">Display GUI.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8cpp_source.html#l00107">ULRV2View.cpp:107</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_a71ab2073f57688a2b00daebea0e74cbd"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#a71ab2073f57688a2b00daebea0e74cbd">sibr::ULRV2View::_numAnglUlr</a></div><div class="ttdeci">int _numAnglUlr</div><div class="ttdoc">Number of cameras to select for each criterion.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8hpp_source.html#l00148">ULRV2View.hpp:148</a></div></div>
<div class="ttc" id="aclasssibr_1_1Image_html"><div class="ttname"><a href="classsibr_1_1Image.html">sibr::Image</a></div><div class="ttdoc">This class is used to store images.</div><div class="ttdef"><b>Definition:</b> <a href="Image_8hpp_source.html#l00227">Image.hpp:227</a></div></div>
<div class="ttc" id="agroup__sibr__system_html_gadf42f2cb63d62f06706ca6aa4c7ec0a6"><div class="ttname"><a href="group__sibr__system.html#gadf42f2cb63d62f06706ca6aa4c7ec0a6">sibr::distance</a></div><div class="ttdeci">T distance(const Eigen::Matrix&lt; T, N, 1, Options &gt; &amp;A, const Eigen::Matrix&lt; T, N, 1, Options &gt; &amp;B)</div><div class="ttdoc">Distance between two vectors.</div><div class="ttdef"><b>Definition:</b> <a href="Vector_8hpp_source.html#l00100">Vector.hpp:100</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_af909b3fe7ba983924a58f25a0fe269dc"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#af909b3fe7ba983924a58f25a0fe269dc">sibr::ULRV2View::_scene</a></div><div class="ttdeci">std::shared_ptr&lt; sibr::BasicIBRScene &gt; _scene</div><div class="ttdoc">the current scene.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8hpp_source.html#l00146">ULRV2View.hpp:146</a></div></div>
<div class="ttc" id="agroup__sibr__graphics_html_gab781657b66eb4b242aa7dfb670ff961a"><div class="ttname"><a href="group__sibr__graphics.html#gab781657b66eb4b242aa7dfb670ff961a">sibr::Image::toOpenCVnonConst</a></div><div class="ttdeci">cv::Mat &amp; toOpenCVnonConst(void)</div><div class="ttdef"><b>Definition:</b> <a href="Image_8hpp_source.html#l00440">Image.hpp:440</a></div></div>
<div class="ttc" id="anamespacesibr_html"><div class="ttname"><a href="namespacesibr.html">sibr</a></div><div class="ttdef"><b>Definition:</b> <a href="ActiveImageFile_8cpp_source.html#l00005">ActiveImageFile.cpp:6</a></div></div>
<div class="ttc" id="agroup__sibr__graphics_html_gac636c2a2660c7d9070ea04f2112c9c67"><div class="ttname"><a href="group__sibr__graphics.html#gac636c2a2660c7d9070ea04f2112c9c67">sibr::clamp</a></div><div class="ttdeci">T clamp(T value, T min, T max)</div><div class="ttdoc">Clamp a value.</div><div class="ttdef"><b>Definition:</b> <a href="core_2graphics_2Config_8hpp_source.html#l00096">Config.hpp:96</a></div></div>
<div class="ttc" id="aclasssibr_1_1Camera_html_a862cb20c35f138a56f16d98333bbe331"><div class="ttname"><a href="classsibr_1_1Camera.html#a862cb20c35f138a56f16d98333bbe331">sibr::Camera::dir</a></div><div class="ttdeci">Vector3f dir(void) const</div><div class="ttdef"><b>Definition:</b> <a href="Camera_8cpp_source.html#l00083">Camera.cpp:83</a></div></div>
<div class="ttc" id="acore_2system_2Config_8hpp_html_a4b0d32db99c8a880654021ba78c7e2be"><div class="ttname"><a href="core_2system_2Config_8hpp.html#a4b0d32db99c8a880654021ba78c7e2be">SIBR_ASSERT</a></div><div class="ttdeci">#define SIBR_ASSERT(condition)</div><div class="ttdef"><b>Definition:</b> <a href="core_2system_2Config_8hpp_source.html#l00195">Config.hpp:195</a></div></div>
<div class="ttc" id="agroup__sibr__graphics_html_ga0e97272f4c006cd0bfd60aa78ba0b8cc"><div class="ttname"><a href="group__sibr__graphics.html#ga0e97272f4c006cd0bfd60aa78ba0b8cc">sibr::Image::fromOpenCV</a></div><div class="ttdeci">void fromOpenCV(const cv::Mat &amp;img)</div><div class="ttdoc">Replace the content of the image with the content of another matrix.</div><div class="ttdef"><b>Definition:</b> <a href="Image_8hpp_source.html#l00775">Image.hpp:775</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_a77ad88606f9476d3422c66c11fb296f7"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#a77ad88606f9476d3422c66c11fb296f7">sibr::ULRV2View::_poissonRT</a></div><div class="ttdeci">RenderTargetRGBA::Ptr _poissonRT</div><div class="ttdoc">Poisson filling destination RT.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8hpp_source.html#l00155">ULRV2View.hpp:155</a></div></div>
<div class="ttc" id="aTexture_8hpp_html"><div class="ttname"><a href="Texture_8hpp.html">Texture.hpp</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_a390b87d5d83b9d55ee4dc7bb95556129"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#a390b87d5d83b9d55ee4dc7bb95556129">sibr::ULRV2View::_inputRTs</a></div><div class="ttdeci">std::vector&lt; std::shared_ptr&lt; RenderTargetRGBA32F &gt; &gt; _inputRTs</div><div class="ttdoc">input RTs  usually RGB but can be alpha or other</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8hpp_source.html#l00150">ULRV2View.hpp:150</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_a3c368e5311e50d18010230bba41c8c0b"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#a3c368e5311e50d18010230bba41c8c0b">sibr::ULRV2View::loadMasks</a></div><div class="ttdeci">void loadMasks(const sibr::BasicIBRScene::Ptr &amp;ibrScene, int w, int h, const std::string &amp;maskDir=&quot;&quot;, const std::string &amp;preFileName=&quot;&quot;, const std::string &amp;postFileName=&quot;&quot;)</div><div class="ttdoc">Load masks from disk.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8cpp_source.html#l00294">ULRV2View.cpp:294</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_a0877d8f9b3b6c95533ff2a34fce70aaf"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#a0877d8f9b3b6c95533ff2a34fce70aaf">sibr::ULRV2View::_altMesh</a></div><div class="ttdeci">std::shared_ptr&lt; sibr::Mesh &gt; _altMesh</div><div class="ttdoc">For the cases when using a different mesh than the scene.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8hpp_source.html#l00147">ULRV2View.hpp:147</a></div></div>
<div class="ttc" id="aclasssibr_1_1PoissonRenderer_html"><div class="ttname"><a href="classsibr_1_1PoissonRenderer.html">sibr::PoissonRenderer</a></div><div class="ttdoc">Hole filling by poisson synthesis on an input texture; contains all shaders, render targets and rende...</div><div class="ttdef"><b>Definition:</b> <a href="PoissonRenderer_8hpp_source.html#l00023">PoissonRenderer.hpp:24</a></div></div>
<div class="ttc" id="aclasssibr_1_1InputCamera_html_a0d9999ca90022afba4581e670ec14b94"><div class="ttname"><a href="classsibr_1_1InputCamera.html#a0d9999ca90022afba4581e670ec14b94">sibr::InputCamera::isActive</a></div><div class="ttdeci">bool isActive(void) const</div><div class="ttdoc">Check if the input camera active or inactive, camera is completely ignored if set to inactive.</div><div class="ttdef"><b>Definition:</b> <a href="InputCamera_8cpp_source.html#l00134">InputCamera.cpp:134</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_acdea5f8a8458911bbe2f66a6bf426757"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#acdea5f8a8458911bbe2f66a6bf426757">sibr::ULRV2View::_numDistUlr</a></div><div class="ttdeci">int _numDistUlr</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8hpp_source.html#l00148">ULRV2View.hpp:148</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_a33166398420a9b15d2f4d34a1f708cce"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#a33166398420a9b15d2f4d34a1f708cce">sibr::ULRV2View::chosen_cameras_angdist</a></div><div class="ttdeci">virtual std::vector&lt; uint &gt; chosen_cameras_angdist(const sibr::Camera &amp;eye)</div><div class="ttdoc">Select input cameras to use for rendering.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8cpp_source.html#l00211">ULRV2View.cpp:211</a></div></div>
<div class="ttc" id="aclasssibr_1_1Camera_html"><div class="ttname"><a href="classsibr_1_1Camera.html">sibr::Camera</a></div><div class="ttdoc">Represent a basic camera.</div><div class="ttdef"><b>Definition:</b> <a href="Camera_8hpp_source.html#l00013">Camera.hpp:14</a></div></div>
<div class="ttc" id="anamespacesibr_1_1Key_html_a0362976574888ce696967db1a13ebbd9a8c1b8c9cd39b9224bb5a3469f9e82b4f"><div class="ttname"><a href="namespacesibr_1_1Key.html#a0362976574888ce696967db1a13ebbd9a8c1b8c9cd39b9224bb5a3469f9e82b4f">sibr::Key::End</a></div><div class="ttdeci">@ End</div><div class="ttdef"><b>Definition:</b> <a href="Input_8hpp_source.html#l00085">Input.hpp:85</a></div></div>
<div class="ttc" id="aclasssibr_1_1IRenderTarget_html"><div class="ttname"><a href="classsibr_1_1IRenderTarget.html">sibr::IRenderTarget</a></div><div class="ttdoc">Rendertarget interface.</div><div class="ttdef"><b>Definition:</b> <a href="RenderTarget_8hpp_source.html#l00023">RenderTarget.hpp:24</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_a9791f765dbc6a8ccf2340188fcb13722"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#a9791f765dbc6a8ccf2340188fcb13722">sibr::ULRV2View::RenderMode</a></div><div class="ttdeci">RenderMode</div><div class="ttdoc">Camera selection mode.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8hpp_source.html#l00020">ULRV2View.hpp:20</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_a928479eee8e365f5719060dcdff9b091"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#a928479eee8e365f5719060dcdff9b091">sibr::ULRV2View::~ULRV2View</a></div><div class="ttdeci">~ULRV2View()</div><div class="ttdoc">Destructor.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8cpp_source.html#l00011">ULRV2View.cpp:11</a></div></div>
<div class="ttc" id="agroup__sibr__system_html_gabb268fe698d482a3ddd19e59d5655938"><div class="ttname"><a href="group__sibr__system.html#gabb268fe698d482a3ddd19e59d5655938">sibr::dot</a></div><div class="ttdeci">static Eigen::Quaternion&lt; T &gt; dot(const Eigen::Quaternion&lt; T &gt; &amp;q1, const Eigen::Quaternion&lt; T &gt; &amp;q2)</div><div class="ttdoc">Quaternion product.</div><div class="ttdef"><b>Definition:</b> <a href="Quaternion_8hpp_source.html#l00156">Quaternion.hpp:156</a></div></div>
<div class="ttc" id="acore_2system_2Config_8hpp_html_a4d3943ddea65db7163a58e6c7e8df95a"><div class="ttname"><a href="core_2system_2Config_8hpp.html#a4d3943ddea65db7163a58e6c7e8df95a">uint</a></div><div class="ttdeci">unsigned uint</div><div class="ttdef"><b>Definition:</b> <a href="core_2system_2Config_8hpp_source.html#l00216">Config.hpp:216</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_ace7d8862e0be4ea2bbe8241d4579fe26"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#ace7d8862e0be4ea2bbe8241d4579fe26">sibr::ULRV2View::_renderMode</a></div><div class="ttdeci">RenderMode _renderMode</div><div class="ttdoc">Current camera selection mode.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8hpp_source.html#l00157">ULRV2View.hpp:157</a></div></div>
<div class="ttc" id="agroup__sibr__graphics_html_gaa4e85f4bdea18ac63a8a7abaf48f0331"><div class="ttname"><a href="group__sibr__graphics.html#gaa4e85f4bdea18ac63a8a7abaf48f0331">sibr::Image::w</a></div><div class="ttdeci">uint w(void) const</div><div class="ttdef"><b>Definition:</b> <a href="Image_8hpp_source.html#l01125">Image.hpp:1125</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_a9791f765dbc6a8ccf2340188fcb13722ac5bcc0d04a928ec0debffde29fec5550"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#a9791f765dbc6a8ccf2340188fcb13722ac5bcc0d04a928ec0debffde29fec5550">sibr::ULRV2View::RenderMode::LEAVE_ONE_OUT</a></div><div class="ttdeci">@ LEAVE_ONE_OUT</div></div>
<div class="ttc" id="aclasssibr_1_1ViewBase_html"><div class="ttname"><a href="classsibr_1_1ViewBase.html">sibr::ViewBase</a></div><div class="ttdoc">Basic view representation.</div><div class="ttdef"><b>Definition:</b> <a href="ViewBase_8hpp_source.html#l00020">ViewBase.hpp:21</a></div></div>
<div class="ttc" id="agroup__sibr__graphics_html_ga1a9a71c1d6527377023ec032d363cad2"><div class="ttname"><a href="group__sibr__graphics.html#ga1a9a71c1d6527377023ec032d363cad2">sibr::Image::h</a></div><div class="ttdeci">uint h(void) const</div><div class="ttdef"><b>Definition:</b> <a href="Image_8hpp_source.html#l01130">Image.hpp:1130</a></div></div>
<div class="ttc" id="agroup__sibr__graphics_html_gafdcfea35c4f91d8c289d9447e9d42ffd"><div class="ttname"><a href="group__sibr__graphics.html#gafdcfea35c4f91d8c289d9447e9d42ffd">sibr::convertL32FtoRGBA</a></div><div class="ttdeci">sibr::ImageRGBA convertL32FtoRGBA(const sibr::ImageL32F &amp;imgF)</div><div class="ttdoc">Convert a L32F into a RGBA image while preserving bit-level representation.</div><div class="ttdef"><b>Definition:</b> <a href="Image_8cpp_source.html#l00058">Image.cpp:58</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_acc8b89bd84d53cd4137fff5ab2e18312"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#acc8b89bd84d53cd4137fff5ab2e18312">sibr::ULRV2View::setMasks</a></div><div class="ttdeci">void setMasks(const std::vector&lt; RenderTargetLum::Ptr &gt; &amp;masks)</div><div class="ttdoc">Set the masks for ignoring some regions of the input images.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8cpp_source.html#l00301">ULRV2View.cpp:301</a></div></div>
<div class="ttc" id="anamespacesibr_html_a3b52f23f413be59f3ca9269c00a8728c"><div class="ttname"><a href="namespacesibr.html#a3b52f23f413be59f3ca9269c00a8728c">sibr::RenderTargetRGBA</a></div><div class="ttdeci">RenderTarget&lt; unsigned char, 4 &gt; RenderTargetRGBA</div><div class="ttdef"><b>Definition:</b> <a href="RenderTarget_8hpp_source.html#l00269">RenderTarget.hpp:269</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_a6ebce8c8030de14c642486af92b54ce1"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#a6ebce8c8030de14c642486af92b54ce1">sibr::ULRV2View::_blendRT</a></div><div class="ttdeci">RenderTargetRGBA::Ptr _blendRT</div><div class="ttdoc">ULR destination RT.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8hpp_source.html#l00154">ULRV2View.hpp:154</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_a9791f765dbc6a8ccf2340188fcb13722a497335a8a75fdf45f9bb6c948d2ed877"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#a9791f765dbc6a8ccf2340188fcb13722a497335a8a75fdf45f9bb6c948d2ed877">sibr::ULRV2View::RenderMode::ONLY_ONE_CAM</a></div><div class="ttdeci">@ ONLY_ONE_CAM</div></div>
<div class="ttc" id="aclasssibr_1_1Input_html_a6c02ef102e4ce5f6d80efeaf4b7e4b60"><div class="ttname"><a href="classsibr_1_1Input.html#a6c02ef102e4ce5f6d80efeaf4b7e4b60">sibr::Input::key</a></div><div class="ttdeci">const Keyboard &amp; key(void) const</div><div class="ttdef"><b>Definition:</b> <a href="Input_8hpp_source.html#l00338">Input.hpp:338</a></div></div>
<div class="ttc" id="anamespaceibr__preprocess__rc__to__sibr_html_a4dc1ac3c3a4ca0032d5f0322eddc0d9c"><div class="ttname"><a href="namespaceibr__preprocess__rc__to__sibr.html#a4dc1ac3c3a4ca0032d5f0322eddc0d9c">ibr_preprocess_rc_to_sibr.dst</a></div><div class="ttdeci">dst</div><div class="ttdef"><b>Definition:</b> <a href="ibr__preprocess__rc__to__sibr_8py_source.html#l00461">ibr_preprocess_rc_to_sibr.py:461</a></div></div>
<div class="ttc" id="aclasssibr_1_1InputState_html_a1b29f1bc5cc3f6147ac666df4e5acdf6"><div class="ttname"><a href="classsibr_1_1InputState.html#a1b29f1bc5cc3f6147ac666df4e5acdf6">sibr::InputState::isReleased</a></div><div class="ttdeci">bool isReleased(TEnum code) const</div><div class="ttdoc">Is an item released (lasts one frame).</div><div class="ttdef"><b>Definition:</b> <a href="Input_8hpp_source.html#l00218">Input.hpp:218</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_a15d94ed76fe51420e219d1946549cfa7"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#a15d94ed76fe51420e219d1946549cfa7">sibr::ULRV2View::setNumBlend</a></div><div class="ttdeci">void setNumBlend(short int dist, short int angle)</div><div class="ttdoc">Set the number of cmaeras to select for blending.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8cpp_source.html#l00282">ULRV2View.cpp:282</a></div></div>
<div class="ttc" id="aULRV2View_8hpp_html"><div class="ttname"><a href="ULRV2View_8hpp.html">ULRV2View.hpp</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2Renderer_html"><div class="ttname"><a href="classsibr_1_1ULRV2Renderer.html">sibr::ULRV2Renderer</a></div><div class="ttdoc">Second version of the ULR render.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2Renderer_8hpp_source.html#l00014">ULRV2Renderer.hpp:15</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_a9fb81b8cf98a3f19003425eda4a66a2f"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#a9fb81b8cf98a3f19003425eda4a66a2f">sibr::ULRV2View::_poisson</a></div><div class="ttdeci">PoissonRenderer::Ptr _poisson</div><div class="ttdoc">Poisson filling renderer.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8hpp_source.html#l00142">ULRV2View.hpp:142</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html"><div class="ttname"><a href="classsibr_1_1ULRV2View.html">sibr::ULRV2View</a></div><div class="ttdoc">View associated to ULRRenderer v2, providing interface and options.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8hpp_source.html#l00015">ULRV2View.hpp:16</a></div></div>
<div class="ttc" id="aTypes_8hpp_html_a9f2169e9ddd666cfe75e23c5bb9fe276"><div class="ttname"><a href="Types_8hpp.html#a9f2169e9ddd666cfe75e23c5bb9fe276">SIBR_CLAMP_UVS</a></div><div class="ttdeci">#define SIBR_CLAMP_UVS</div><div class="ttdef"><b>Definition:</b> <a href="Types_8hpp_source.html#l00019">Types.hpp:19</a></div></div>
<div class="ttc" id="aVector_8hpp_html"><div class="ttname"><a href="Vector_8hpp.html">Vector.hpp</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_a9a2246bfe89af9ef33bcbc4bae85871d"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#a9a2246bfe89af9ef33bcbc4bae85871d">sibr::ULRV2View::onUpdate</a></div><div class="ttdeci">virtual void onUpdate(Input &amp;input)</div><div class="ttdoc">Update state absed on user inputs.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8cpp_source.html#l00094">ULRV2View.cpp:94</a></div></div>
<div class="ttc" id="aclasssibr_1_1Camera_html_a504e28d6b69320e2accfe4e18ce090ef"><div class="ttname"><a href="classsibr_1_1Camera.html#a504e28d6b69320e2accfe4e18ce090ef">sibr::Camera::position</a></div><div class="ttdeci">void position(const Vector3f &amp;v)</div><div class="ttdoc">Set the camera position.</div><div class="ttdef"><b>Definition:</b> <a href="Camera_8hpp_source.html#l00320">Camera.hpp:320</a></div></div>
<div class="ttc" id="aclasssibr_1_1InputCamera_html"><div class="ttname"><a href="classsibr_1_1InputCamera.html">sibr::InputCamera</a></div><div class="ttdoc">Input camera parameters.</div><div class="ttdef"><b>Definition:</b> <a href="InputCamera_8hpp_source.html#l00015">InputCamera.hpp:16</a></div></div>
<div class="ttc" id="aclasssibr_1_1ULRV2View_html_ac7c4a293e3a14b15228e36fae073f23f"><div class="ttname"><a href="classsibr_1_1ULRV2View.html#ac7c4a293e3a14b15228e36fae073f23f">sibr::ULRV2View::chosen_cameras</a></div><div class="ttdeci">virtual std::vector&lt; uint &gt; chosen_cameras(const sibr::Camera &amp;eye)</div><div class="ttdoc">Select input cameras to use for rendering.</div><div class="ttdef"><b>Definition:</b> <a href="ULRV2View_8cpp_source.html#l00172">ULRV2View.cpp:172</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_bcd784ff13c90e571d7c296255295ece.html">projects</a></li><li class="navelem"><a class="el" href="dir_ce762571d5f66d058c60b2c8116e729c.html">ulr</a></li><li class="navelem"><a class="el" href="dir_0fbcd7daff1167f6b1c10976c0251a3a.html">renderer</a></li><li class="navelem"><a class="el" href="ULRV2View_8cpp.html">ULRV2View.cpp</a></li>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
